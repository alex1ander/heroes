<section class="person-detail">
    <div class="container">
        <div class="person-content">
            <!-- Gallery Section -->
            <div class="person-gallery">
                <div class="main-gallery">
                    <div class="swiper main-gallery-swiper">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide">
                                <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=600&fit=crop&crop=face" alt="Роман Ратушний" class="main-image">
                            </div>
                            <div class="swiper-slide">
                                <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=800&h=600&fit=crop&crop=face" alt="Роман Ратушний" class="main-image">
                            </div>
                            <div class="swiper-slide">
                                <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?w=800&h=600&fit=crop&crop=face" alt="Роман Ратушний" class="main-image">
                            </div>
                            <div class="swiper-slide">
                                <img src="https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=800&h=600&fit=crop&crop=face" alt="Роман Ратушний" class="main-image">
                            </div>
                            <div class="swiper-slide">
                                <img src="https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=800&h=600&fit=crop&crop=face" alt="Роман Ратушний" class="main-image">
                            </div>
                        </div>
                        <!-- Navigation buttons -->
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-button-next"></div>
                    </div>
                </div>
                
                <!-- Thumbnail Gallery -->
                <div class="thumbnail-gallery">
                    <div class="thumbnail active" data-slide="0">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=100&fit=crop&crop=face" alt="Thumbnail 1">
                    </div>
                    <div class="thumbnail" data-slide="1">
                        <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=100&fit=crop&crop=face" alt="Thumbnail 2">
                    </div>
                    <div class="thumbnail" data-slide="2">
                        <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?w=150&h=100&fit=crop&crop=face" alt="Thumbnail 3">
                    </div>
                    <div class="thumbnail" data-slide="3">
                        <img src="https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150&h=100&fit=crop&crop=face" alt="Thumbnail 4">
                    </div>
                    <div class="thumbnail" data-slide="4">
                        <img src="https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=150&h=100&fit=crop&crop=face" alt="Thumbnail 5">
                    </div>
                </div>
            </div>

            <!-- Person Info Section -->
            <div class="person-info">
                <!-- Person Header -->
                <div class="person-header">
                    <div class="person-title">
                        <h1>Роман Ратушний</h1>
                        <p class="person-subtitle">громадський діяч, розвідник, 1997–2022</p>
                    </div>
                    <button class="share-btn" aria-label="Поделиться">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M15 6.66667C16.3807 6.66667 17.5 5.54738 17.5 4.16667C17.5 2.78595 16.3807 1.66667 15 1.66667C13.6193 1.66667 12.5 2.78595 12.5 4.16667C12.5 4.34 12.5138 4.5095 12.5394 4.675L7.725 7.08167C7.2825 6.63917 6.67 6.37417 6 6.37417C4.61929 6.37417 3.5 7.49345 3.5 8.87417C3.5 10.2549 4.61929 11.3742 6 11.3742C6.67 11.3742 7.2825 11.1092 7.725 10.6667L12.5394 13.0742C12.5138 13.2397 12.5 13.4092 12.5 13.5825C12.5 14.9632 13.6193 16.0825 15 16.0825C16.3807 16.0825 17.5 14.9632 17.5 13.5825C17.5 12.2018 16.3807 11.0825 15 11.0825C14.33 11.0825 13.7175 11.3475 13.275 11.79L8.46063 9.38333C8.48625 9.21783 8.5 9.04833 8.5 8.875C8.5 8.70167 8.48625 8.53217 8.46063 8.36667L13.275 5.96C13.7175 6.4025 14.33 6.66667 15 6.66667Z" fill="#828282"/>
                        </svg>
                    </button>
                </div>

                <!-- Person Details -->
                <div class="person-details">
                    <div class="details-line">
                        <div class="start-dot"></div>
                        <div class="middle-line"></div>
                        <div class="end-dot"></div>
                    </div>
                    <div class="details-group">
                        <div class="detail-item">
                            <span class="detail-value">25 років</span>
                            <span class="detail-label">вік</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-value">19 червня 2022</span>
                            <span class="detail-label">дата загибелі</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-value">Київська обл.</span>
                            <span class="detail-label">місце загибелі</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-value">Києв</span>
                            <span class="detail-label">місто народження</span>
                        </div>
                    </div>
                </div>

                <!-- Person Stories -->
                <div class="person-stories">
                    <div class="story-card">
                        <h3>Боротьба за Протасів Яр</h3>
                        <p>Роман очолював ініціативу "Захистимо Протасів Яр", боровся проти незаконної забудови зелених зон Києва. Завдяки його активізму вдалося зберегти унікальну природну локацію для майбутніх поколінь.</p>
                    </div>
                    <div class="story-card">
                        <h3>Громадський активізм</h3>
                        <p>Ще зі студентських років Роман брав активну участь у громадському житті. Організовував акції, протести, працював над вирішенням екологічних проблем міста. Був прикладом небайдужої, принципової молоді.</p>
                    </div>
                    <div class="story-card">
                        <h3>Військова служба</h3>
                        <p>З початком повномасштабної війни Роман пішов захищати Україну. Служив у розвідувальному підрозділі, виконував важливі завдання на передовій. Загинув під час виконання бойового завдання 19 червня 2022 року.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const galleryEl = document.querySelector('.main-gallery-swiper');
  if (!galleryEl) return;

  // Сначала собираем превью
  const thumbnails = Array.from(document.querySelectorAll('.thumbnail'));

  function updateActiveThumbnail(activeIndex) {
    thumbnails.forEach((thumb, i) => {
      thumb.classList.toggle('active', i === activeIndex);
    });
  }

  // Потом инициализируем Swiper
  const mainSwiper = new Swiper(galleryEl, {
    spaceBetween: 10,
    loop: true,
    speed: 600,
    navigation: {
      nextEl: '.main-gallery .swiper-button-next',
      prevEl: '.main-gallery .swiper-button-prev',
    },
    on: {
      init(swiper) {
        updateActiveThumbnail(swiper.realIndex);
      },
      slideChange(swiper) {
        updateActiveThumbnail(swiper.realIndex);
      }
    }
  });

  // Обработчики кликов по превью
  thumbnails.forEach((thumb, index) => {
    thumb.addEventListener('click', () => {
      mainSwiper.slideToLoop(index);
      updateActiveThumbnail(index);
    });
  });
});

</script>
